{% extends 'base.html' %}
{% block title %}Create new post{% endblock %}
{% block body %}
  <div class="row shadow p-3 mb-2 bg-body rounded">
    <h1 class="text-center">Create a new post</h1>
    <form method="POST" action="{{ url_for('.new_post') }}">
      {{ form.hidden_tag() }}
        <div class="form-group">
          {{ form.title.label }}
          {% if form.title.errors %}
            {% for e in attr.errors %}
              <p class="help-block">{{ e }}</p>
            {% endfor %}
          {% endif %}
          {{ form.title(class_='form-control') }}
        </div>
        <div class="form-group">
          {{ form.text.label }}
          {% if form.text.errors %}
            {% for e in form.text.errors %}
              <p class="help-block">{{ e }}</p>
            {% endfor %}
          {% endif %}
          {{ form.text(id='editor', class_='form-control') }}
        </div>
      <input class="btn btn-primary" type="submit" value="Submit" style="margin-top: 15px;">
    </form>
  </div>
{% endblock %}
{% block js %}
<!--
  <script src="//cdn.ckeditor.com/4.4.7/standard/ckeditor.js"></script>
  <script>
      CKEDITOR.replace('editor')
  </script>
-->
    <script src="https://cdn.ckeditor.com/ckeditor5/25.0.0/classic/ckeditor.js"></script>
    <script>
            ClassicEditor
                    .create( document.querySelector( '#editor' ) )
                    .then( editor => {
                            console.log( editor );
                    } )
                    .catch( error => {
                            console.error( error );
                    } );
    </script>
{% endblock %}
